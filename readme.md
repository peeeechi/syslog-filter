# Syslog Filter

## description
Syslogファイルをアップロードし、柔軟なフィルタリング機能でログを分析できます。

## setup

```bash
pip3 install -r ./requirements.txt
```

## usage
### アプリケーション起動
app.py ファイルがあるディレクトリで、以下のコマンドを実行

```bash
streamlit run app.py
```

コマンドを実行すると、Webブラウザが自動的に開き、Syslog Filterアプリケーションが表示されます。

### Syslogファイルを選択する:

アプリケーションの画面中央にある「Syslog ファイルを選択してください」ボタンをクリックし、分析したいSyslogファイル（.log や .txt 形式）を選択して読み込みます。

### ログをフィルタリングする

ファイルが読み込まれると、テーブル形式でログが表示されます。
「ログフィルタリング」セクションで、以下の操作が可能です。

- キーワード入力: 検索したい文字列を入力します。* や ? のワイルドカードも使用できます。
- フィルタ追加: 「フィルタ追加」ボタンをクリックすると、新しいフィルタ入力欄が追加されます。
- 論理演算子の選択: 2つ目以降のフィルタでは、「AND」または「OR」を選択して、複数の条件を組み合わせられます。
- 削除: 各フィルタ行の右側にある「削除」ボタンで、そのフィルタを削除できます。

### 表示を調整する
「表示する最大行数」のスライダーを操作して、テーブルに表示されるログの最大行数を調整できます。

### データをダウンロードする
「表示中のデータフレームをCSVでダウンロード」ボタンをクリックすると、現在表示されている（フィルタリング済みの）ログデータがCSVファイルとしてダウンロードされます。

### ログ形式について
このアプリケーションのSyslogパーサーは、以下の形式のログに対応しています。

`YYYY-MM-DDTHH:MM:SS.ffffff+HH:MM hostname app_name[PID]: message`
ANSIエスケープシーケンス（カラーコードなど）は自動的に除去されます。もし異なる形式のログを解析したい場合は、parse_syslog_line 関数内の正規表現を調整してください。